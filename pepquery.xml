<tool id="pepquery" name="PepQuery" version="0.1.1">
    <description>Peptide-centric search engine for novel peptide identification and validation.</description>

    <stdio>
        <exit_code range="1:" />
        <regex match="IOError"
               source="both"
               level="fatal"
               description="Python file error" />
        <regex match="pkg_resources"
               source="both"
               level="fatal"
               description="PKG Error" />
    </stdio>

    <command>java -jar bin/pepquery.jar -h</command>

    <inputs>
        <param name="Annotation file" type="data" argument="-anno" help="Annotation files folder for VCF/BED/GTF" />
         <param name="Max missed cleavages" type="text" argument="-c" help="The max missed cleavages, default is 2" />
         <param name="" type="text" argument="-db" help="Fasta format database file" />
         <param name="" type="text" argument="-e" help="1:Trypsin (default), 2:Trypsin (no P rule), 3:Arg-C, 4:Arg-C (no P rule), 5:Arg-N, 6:Glu-C, 7:Lys-C" />
         <param name="" type="text" argument="-f" help="The frame to translate DNA sequence to protein (The right format is like this: "1,2,3,4,5,6","1,2,3","1". "0" means to keep the longest frame. In default, for each frame only the longest protein is used)." />
         <param name="" type="text" argument="-fixMod" help="Fixed modification, the format is like : 1,2,3. Default is 6 (Carbamidomethylation(C)[57.02])" />
         <param name="" type="text" argument="-fragmentMethod" help="1: CID/HCD (default), 2: ETD" />
         <param name="" type="text" argument="-i" help="Take protein, DNA or VCF as input" />
         <param name="" type="text" argument="-itol" help="Fragment ion m/z tolerance, default is 0.6da" />
         <param name="" type="text" argument="-m" help="Scoring method: 1=HyperScore (default), 2=MVH" />
         <param name="" type="text" argument="-maxCharge" help="The maximum charge to consider if the charge state is not available, default is 3" />
         <param name="" type="text" argument="-maxVar" help="Max number of variable modifications, default is 3" />
         <param name="" type="text" argument="-minCharge" help="The minimum charge to consider if the charge state is not available, default is 2" />
         <param name="" type="text" argument="-minPeaks" help="Min peaks in spectrum, default is 10" />
         <param name="" type="text" argument="-minScore" help="Minimum score to consider for peptide searching, default is 5" />
         <param name="" type="text" argument="-ms" help="Spectrum file used for identification, mgf format" />
         <param name="" type="text" argument="-n" help="The number of random peptides, default is 1000" />
         <param name="" type="text" argument="-o" help="Output dir" />
         <param name="" type="text" argument="-pep" help="Peptide sequence which you want to search" />
         <param name="" type="text" argument="-prefix" help="Output file prefix" />
         <param name="" type="boolean" argument="-printPTM" help="Print PTMs" />
         <param name="" type="text" argument="-t" help="Input type: 1=>protein,2=>DNA,3=>VCF,4=>BED,5=>GTF" />
         <param name="" type="text" argument="-tol" help="Precursor ion m/z tolerance, default is 10" />
         <param name="" type="text" argument="-tolu" help="The unit of precursor ion m/z tolerance, default is ppm" />
         <param name="" type="text" argument="-um" help="The unit of precursor ion m/z tolerance, default is ppm. Validation with unrestricted modification searching" />
         <param name="" type="text" argument="-varMod" help="Variable modification, the format is like : 1,2,3. Default is 107 (Oxidation(M)[15.99])" />
    </inputs>

    <outputs>
        <data format="tabular" name="molecular_function_abundance" label="${tool.name} on ${on_string}: Molecular function abundance"/>
    </outputs>

    <help><![CDATA[
        PepQuery is a peptide-centric search engine for novel peptide identification and validation. Cancer genomics studies have identified a large number of genomic alterations that may lead to novel, cancer-specific protein sequences. Proteins resulted from these genomic alterations are attractive candidates for cancer biomarkers and therapeutic targets. The leading approach to proteomic validation of genomic alterations is to analyze tandem mass spectrometry (MS/MS) data using customized proteomics databases created from genomics data. Such analysis is time-consuming and requires thorough training and detailed knowledge in proteomics data analysis, leading to a gap between MS/MS data and the cancer genomics community. PepQuery does not require customized databases and allows quick and easy proteomic validation of genomic alterations.
    ]]></help>

    <citations>
    </citations>
</tool>